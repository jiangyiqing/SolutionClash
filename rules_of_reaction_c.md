# yadwicksSolution
破电子裁判的运行规则
<script 
  src="https://cdn.bootcss.com/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
## 溶液
- 属性:
  - 物质
    - 物质
      - ID : 数量
        (初始为 $H_2O$ :55.6)
  - pH
    - 初始为7
  - pH保持回合:
    ```
    溶液+A或小于7-A的回合数量
    当pH为7-A到7+A时重制为0
    ```
  - 玩家编号
- 操作:
  - 加入物质
  - 溶液反应
## 物质种类:
  - $H_2O$(H2O)
  - 离子(Ion)
    - 溶液的溶质部分(包括$H^+$,$OH^-$)
    - 离子的属性:
      - 氧化还原性: int (0为不会发生氧化还原反应)
      - 电荷: int (不为0)
- Z物质(Subs)
  - 稳定的物质
  - Z物质的属性:
    - 氧化还原性: int (0为不会发生氧化还原反应)
- Zs类物质(SubsZs)
  - 沉淀, 如$CaCO_3$
- Zg类物质(SubsZg)
  - 气体, 如$H_2, NH_3, SO_2$

## 反应
### X类反应(reactionX)
$X$和$H_2O$的反应
$$X + H_2O = Y + Zg↑/Zs↓$$
- X类反应的优先度最高
- X类:
    - [反应物(ID, 数量)], [生成物(ID, 数量)]
反应结束后重算pH
`按照真实世界的说法, X类反应实际上是OR类反应的一种……`
### I类反应(reactionI)
某物质的电离,需要考虑酸/碱性
$$CiAi = Ci^{n+} + Ai^{n-}$$
  - 反应优先度低于X类
- I类:
    - [反应物(ID, 数量)], 条件, [生成物(ID, 数量)]
反应前pHI, 假设全部电离, 抵消一次, 运行一次IE
`按照真实世界的说法, I类反应实际上不是化学反应……`

### IOR类反应(reactionIOR)
某物质电离出的离子与溶液中原有的离子发生氧化还原反应
   $$M^{m} + N^{n} = M^{p} + N^{q}$$
- 反应优先度低于I类
- IOR类:
    - [反应物(ID, 数量)], 条件, [生成物(ID, 数量)]
反应结束后pHI,抵消,IpH,pH重算
### IE类反应(reactionIE) 
复分解反应/离子交换
 $$Ci^{n+} + Ai^{n-} = Zg↑/Zs↓$$
- IE类反应的优先度在IOR之后
- IE类:
    - [反应物(ID, 数量)], 条件, [生成物(ID, 数量)]
反应结束后pHI,抵消,IpH,pH重算
### DH类反应(reactionDH)
双水解反应
  - 优先度低于IE类
   - DH类:
      - [反应物(ID, 数量)], [生成物(ID, 数量)]
反应结束后pHI,抵消,IpH
### F类反应(reactionF)
  - 实际是个自动过程
  - 清除溶液中所有Zs类物质
  - 清除溶液中所有Zg类物质
  - F类:
    - [反应物(ID, 数量)]
### pHI过程
把pH改成7, 并在离子栏中加入相应的H+/OH-
### IpH过程
IpH开始时pH必须为7
把溶液中的H+/OH-全部删除, 并改变pH值
### pH重算
按照水变化的比例重新计算pH
### 抵消
抵消开始时pH必须为7
c(H+) = c(H+) - c(OH-)
c(OH-) = 0
## 解说
由于现实很麻烦, 所以这里用偷懒的模型代替了.
### 例子
比如有个溶液,H2O有55.6mol,HCl有0.1mol.
为了偷懒, 写成这样:
```
H2O: 55.6, Cl-: 0.1, pH=1.
```
由pH, 我知道溶液呈酸性.
如果我加入0.1mol的Cu(OH)2:
* 第一步: Cu(OH)2是否和水反应?
  - 由“X”的反应方程式列表(还没编), 不反应, 跳过
* 第二步: Cu(OH)2溶解不?
  - 由“I”的反应方程式列表(还没编), 因为酸性, 可溶
  - pHI, 这时候的溶液: 
```
H2O: 55.6, Cl-: 0.1, H+: 0.1, pH=7
```  
  - 假设全部溶解
```
H2O: 55.6, Cl-: 0.1, H+: 0.1, Cu2+: 0.1, OH-: 0.2, pH=7
```
  - 使用一次“抵消”
```
H2O: 55.6, Cl-: 0.1, Cu2+: 0.1, OH-: 0.1, pH=7
```
  - 调用一次“IE”, 由“IE”的反应方程式列表(也还没编), 不是酸性环境下, OH-和Cu2+会生成沉淀,所以反应结果:
```
H2O: 55.6, Cl-: 0.1, Cu2+: 0.05, pH=7
```
  - 氢氧化铜沉淀会暂时作为物质的一部分, 但第六步会把它消除
  - 最后, 把氢离子/氢氧根离子改成pH值(虽然这个例子里什么都没变)
* 第三步: 氧化还原反应
  - 由“IOR”的反应方程式列表(还没编), 不反应, 跳过
* 第四步: 复分解反应
  - 由“IE”的反应方程式列表(还没编), 不反应, 跳过
* 第五步: 双水解反应
  - 由“DH”的反应方程式列表(还没编), 不反应, 跳过
* 第六步: 过滤
  - 氢氧化铜(0.05mol被过滤了)
溶液状态:
```
H2O: 55.6, Cl-: 0.1, Cu2+: 0.05, pH=7
```

